**Linux Live Kit** æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œç”¨äºåˆ›å»ºè‡ªå®šä¹‰çš„ Linux Live CD æˆ– USB é•œåƒã€‚å®ƒå…è®¸ä½ å°†ç°æœ‰çš„ Linux ç³»ç»Ÿè½¬æ¢ä¸ºä¸€ä¸ªå¯å¯åŠ¨çš„ Live ç¯å¢ƒï¼Œæ–¹ä¾¿å¤‡ä»½ã€éƒ¨ç½²æˆ–å¿«é€Ÿä½¿ç”¨ã€‚

ä»¥ä¸‹æ˜¯ä½¿ç”¨ **Linux Live Kit** çš„åŸºæœ¬æµç¨‹ï¼š

1. **å®šåˆ¶é…ç½®æ–‡ä»¶**ï¼šç¼–è¾‘ `.config` æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«äº†å¯ä»¥å®šåˆ¶çš„æ‰€æœ‰æ¡ç›®ã€‚ä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚å®šåˆ¶éƒ¨ç½²è®¡åˆ’ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥è®¾ç½®ç›®æ ‡å®‰è£…å…‰ç›˜çš„åå­—ã€å†…æ ¸ä½ç½®ã€éœ€è¦å¤‡ä»½çš„ç›®å½•ã€æ’é™¤åˆ—è¡¨ç­‰ã€‚

    ç¤ºä¾‹é…ç½®é¡¹ï¼š
    - `LIVEKITNAME="xxx"`ï¼šç›®æ ‡å®‰è£…å…‰ç›˜çš„åå­—
    - `VMLINUZ=/boot/vmlinuz`ï¼šå†…æ ¸ä½ç½®
    - `MKMOD="bin etc lib lib64 opt root sbin usr var home"`ï¼šéœ€è¦å¤‡ä»½çš„ç›®å½•
    - `EXCLUDE="/etc/fstab /etc/mtab"`ï¼šæ’é™¤åˆ—è¡¨

2. **å¤‡ä»½**ï¼šè¿è¡Œ `build` è„šæœ¬ï¼Œè¯¥è„šæœ¬ä¼šå°†ç³»ç»Ÿç›®å½•æ‰“åŒ…ä¸º `squashfs` é•œåƒæ–‡ä»¶ï¼Œå¹¶ä¿ç•™å¿…è¦çš„é©±åŠ¨æ¨¡å—ã€‚

3. **éƒ¨ç½²**ï¼šå¯¹äºç”Ÿæˆçš„ ISO æ–‡ä»¶ï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿæœºå¹¶åŠ è½½è¯¥ ISO æ–‡ä»¶ï¼Œä»¥éªŒè¯æ˜¯å¦èƒ½å¤Ÿæ­£ç¡®å¯åŠ¨ã€‚å¦‚æœåªæ˜¯å¤‡ä»½å’Œå¿«é€Ÿä½¿ç”¨ï¼ŒLive ç¯å¢ƒå·²ç»è¶³å¤Ÿã€‚å¦‚æœéœ€è¦å®‰è£…åˆ°å®é™…ç³»ç»Ÿï¼Œå¯ä»¥å‚è€ƒ Arch æˆ– Gentoo çš„æ–‡æ¡£ï¼Œè§„åˆ’æ–‡ä»¶ç³»ç»Ÿã€æŒ‚è½½ã€æ‹·è´æ–‡ä»¶ç­‰æ­¥éª¤ã€‚

4. **æ’é”™**ï¼šå¦‚æœ ISO å¯åŠ¨åæ— æ³•çœ‹åˆ°å¯åŠ¨é¡¹ï¼Œå¯èƒ½æ˜¯ `isolinux` æ‰¾ä¸åˆ°é…ç½®æ–‡ä»¶ã€‚ä½ å¯ä»¥åœ¨å‘½ä»¤è¡Œè¾“å…¥ `/xxx/boot/vmlinuz initrd=/xxx/boot/initrfs.img` æ¥åŠ è½½ `aufs`ã€‚å…¶ä»–å¸¸è§é—®é¢˜åŒ…æ‹¬ `/run` æ–‡ä»¶å¤¹ä¸¢å¤±ã€æ˜¾å¡é©±åŠ¨å’Œç½‘å¡é©±åŠ¨é…ç½®ç­‰ã€‚

è¯·æ³¨æ„ï¼Œè¿™é‡Œçš„æ­¥éª¤æ˜¯ä¸€ä¸ªç®€è¦æ¦‚è¿°ï¼Œå…·ä½“æ“ä½œå¯èƒ½å›  Linux å‘è¡Œç‰ˆè€Œå¼‚ã€‚å¦‚æœä½ éœ€è¦æ›´è¯¦ç»†çš„æŒ‡å¯¼ï¼Œå¯ä»¥å‚è€ƒç›¸å…³æ–‡æ¡£æˆ–ç¤¾åŒºè®¨è®ºã€‚

Â¹: [Linux Live ä½¿ç”¨æ–¹æ³•](https://blog.csdn.net/weixin_33603813/article/details/116995386)
Â²: [Linux Live Kit - Wikipedia](https://en.wikipedia.org/wiki/Linux_Live_Kit)

æº: ä¸å¿…åº”çš„å¯¹è¯ï¼Œ 2023/11/26
(1) linux liveä½¿ç”¨æ–¹æ³•,ä½¿ç”¨linux-live kitå¯¹Linuxå¤‡ä»½ï¼éƒ¨ç½²_å¿ƒå¦å¦ˆå¦ˆçš„åšå®¢-CSDNåšå®¢. https://blog.csdn.net/weixin_33603813/article/details/116995386.
(2) Livekit-å¼€æºå®æ—¶éŸ³è§†é¢‘åŸºç¡€è®¾æ–½ä»‹ç» - çŸ¥ä¹ - çŸ¥ä¹ä¸“æ . https://bing.com/search?q=linux+live+kit+%e6%80%8e%e4%b9%88%e4%bd%bf%e7%94%a8.
(3) ä½¿ç”¨linux-live kitå¯¹Linuxå¤‡ä»½ï¼éƒ¨ç½²_linuxå§_ç™¾åº¦è´´å§. https://tieba.baidu.com/p/2295228917.
(4) Livekit-å¼€æºå®æ—¶éŸ³è§†é¢‘åŸºç¡€è®¾æ–½ä»‹ç» - çŸ¥ä¹ - çŸ¥ä¹ä¸“æ . https://zhuanlan.zhihu.com/p/474130496.
(5) livekit ç®€å•ä¸Šæ‰‹æ•™ç¨‹-CSDNåšå®¢. https://blog.csdn.net/qq_21602341/article/details/127793608.



============================================================

å“¦ï¼Œçœ‹æ¥ä½ é‡åˆ°äº†ä¸€äº›é—®é¢˜ã€‚è®©æˆ‘ä»¬æ¥è§£å†³ä¸€ä¸‹ã€‚

å½“ä½ åœ¨ä½¿ç”¨ **Linux Live Kit** æ—¶ï¼Œå¦‚æœç³»ç»ŸæŠ¥é”™æ‰¾ä¸åˆ° `mksquashfs`ï¼Œä½ å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ¥è§£å†³ï¼š

1. **ç¼–è¯‘ SquashFS å·¥å…·**ï¼š
    - é¦–å…ˆï¼Œç¡®ä¿ä½ å·²ç»ä¸‹è½½äº† SquashFS çš„æºä»£ç ã€‚ä½ å¯ä»¥ä»è¿™é‡Œä¸‹è½½ï¼š[SquashFS Sourceforge](https://sourceforge.net/projects/squashfs/) æˆ–è€… [SquashFS LZMA](https://www.squashfs-lzma.org/downloads/squashfs4.2.tar.gz)ã€‚
    - è§£å‹ä¸‹è½½çš„æºä»£ç æ–‡ä»¶ï¼š`tar -xvzf squashfs4.2.tar.gz`
    - è¿›å…¥è§£å‹åçš„ç›®å½•ï¼š`cd squashfs4.2/`
    - è¿›å…¥ `squashfs-tools/` ç›®å½•ï¼š`cd squashfs-tools/`
    - ç¼–è¾‘ `Makefile` æ–‡ä»¶ï¼Œä¿®æ”¹ `INSTALL_DIR` ä¸ºä½ æœ‰å®‰è£…æƒé™çš„ç›®å½•ï¼Œä¾‹å¦‚ï¼š`/home/your_username/usr`
    - ç¼–è¯‘å¹¶å®‰è£… SquashFS å·¥å…·ï¼š
        ```
        make
        make install
        ```
    - ç¼–è¯‘å’Œå®‰è£…æˆåŠŸåï¼Œä½ ä¼šåœ¨å®‰è£…è·¯å¾„ä¸‹æ‰¾åˆ°ä¸¤ä¸ªå‘½ä»¤å·¥å…·ï¼š`mksquashfs`ï¼ˆç”¨äºå‹ç¼©åªè¯»æ–‡ä»¶ç³»ç»Ÿï¼‰å’Œ `unsquashfs`ï¼ˆç”¨äºè§£å‹æ–‡ä»¶ç³»ç»Ÿï¼‰ã€‚

2. **æ·»åŠ å¯¹ XZ æ”¯æŒ**ï¼š
    - æ‰“å¼€ `squashfs-tools/Makefile` æ–‡ä»¶ã€‚
    - å°† `XZ_SUPPORT = 1` å‰é¢çš„æ³¨é‡Šå»æ‰ã€‚
    - æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š
        ```
        vi Makefile
        # ä¿®æ”¹ XZ_SUPPORT = 1
        make clean
        make
        ```
    - å¦‚æœæŠ¥é”™æç¤ºæ‰¾ä¸åˆ° `lzma.h`ï¼Œä½ éœ€è¦ä¸‹è½½å¹¶å®‰è£… XZ æºç åŒ…ã€‚ä½ å¯ä»¥ä»è¿™é‡Œä¸‹è½½ï¼š[XZ Source](https://tukaani.org/xz/)ã€‚
    - è§£å‹ä¸‹è½½çš„ XZ æºç æ–‡ä»¶ï¼š`tar xzvf xz-5.2.5.tar.gz`
    - è¿›å…¥è§£å‹åçš„ç›®å½•ï¼š`cd xz-5.2.5/`
    - ç¼–è¯‘å¹¶å®‰è£… XZï¼š
        ```
        ./configure --prefix=/home/your_username/usr
        make
        make install
        ```
    - å°† `include` ç›®å½•ä¸‹çš„ `lzma.h` å¤´æ–‡ä»¶å’Œå­ç›®å½• `lzma` æ‹·è´åˆ° `squashfs-tools/` ç›®å½•ä¸‹ã€‚
    - å°† `lib` ç›®å½•ä¸‹çš„ `liblzma.a` åº“æ‹·è´åˆ° `squashfs-tools/` ç›®å½•ä¸‹ã€‚

3. **é‡æ–°ç¼–è¯‘ SquashFS**ï¼š
    - å†æ¬¡æ‰§è¡Œ `make` ç¼–è¯‘ SquashFSã€‚
    - æ‰§è¡Œ `make install` å°† `mksquashfs` å’Œ `unsquashfs` å®‰è£…åˆ°æŒ‡å®šè·¯å¾„ä¸‹ã€‚

è¯·æ³¨æ„ï¼Œä½¿ç”¨æ”¯æŒ XZ çš„ `mksquashfs` å‹ç¼©å¾—åˆ°çš„æ–‡ä»¶ç³»ç»Ÿï¼Œç”¨ä¸æ”¯æŒ XZ çš„ `unsquashfs` æ— æ³•è§£å‹ã€‚å¦‚æœéœ€è¦ä¸€ç›´ä½¿ç”¨ `mksquashfs` å’Œ `unsquashfs`ï¼Œéœ€è¦å°†å¯¹åº”è·¯å¾„æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­ã€‚

å¸Œæœ›è¿™äº›æ­¥éª¤èƒ½å¸®åŠ©ä½ è§£å†³é—®é¢˜ï¼å¦‚æœè¿˜æœ‰å…¶ä»–ç–‘é—®ï¼Œæ¬¢è¿ç»§ç»­æé—®ã€‚ğŸ™‚

æº: ä¸å¿…åº”çš„å¯¹è¯ï¼Œ 2023/11/26
(1) squashfsä»‹ç»å’Œå®‰è£…_unsquashfs-CSDNåšå®¢. https://blog.csdn.net/mayue_web/article/details/105682004.
(2) mksqushfs linuxæ–‡ä»¶ç³»ç»Ÿ_mksquashfså‘½ä»¤è¯¦è§£-CSDNåšå®¢. https://bing.com/search?q=mksquashfs+%e6%89%be%e4%b8%8d%e5%88%b0%e6%80%8e%e4%b9%88%e5%8a%9e.
(3) mksqushfs linuxæ–‡ä»¶ç³»ç»Ÿ_mksquashfså‘½ä»¤è¯¦è§£-CSDNåšå®¢. https://blog.csdn.net/tgdzsjh/article/details/42123769.
(4) mkfs.xfs å‘½ä»¤æ‰¾ä¸åˆ°çš„è§£å†³æ–¹æ³• - CSDNåšå®¢. https://blog.csdn.net/love_3556/article/details/52493092.
(5) [è½¬å‘]ubuntu åˆ¶ä½œsquashfs - neights - åšå®¢å›­. https://www.cnblogs.com/neights/p/14385330.html.
(6) undefined. https://sourceforge.net/projects/squashfs/.
(7) undefined. https://www.squashfs-lzma.org.
(8) undefined. https://www.squashfs-lzma.org/downloads/squashfs4.2.tar.gz.
(9) undefined. https://blog.csdn.net/snowpiaop/article/details/52982997.
(10) undefined. https://tukaani.org/xz/.
(11) undefined. https://baike.baidu.com/item/squashfs/6036237?fr=aladdin.
(12) undefined. https://blog.csdn.net/lurayvis/article/details/10242441.
(13) undefined. https://blog.csdn.net/qq_27901091/article/details/97617505.
(14) undefined. https://blog.csdn.net/wuqingwei/article/details/79235210.
